%!TEX root =  bgo-cam-ready.tex
% please do not delete or change the first line (needed by Csaba's editor)
% \subsubsection{Reductions and Proofs}
% \label{sec:orrel}

%\subsubsection*{Proof of Theorem \ref{thm:typered}}


As is mentioned in Section~\ref{sec:problem}, a type-I oracle is also a type-II oracle. On the other hand, type-II oracles need to satisfy an alternative condition to become type-I oracles. The following result formalizes the relationship between our oracle definitions.
\begin{theorem}\label{thm:typered}
\cref{def:oracle1} is a sufficient condition of \cref{def:oracle2}, given a bounded $\cK$. That is, for any $(c_1,c_2)$ Type-I oracle $\gamma$, there exist some constant $R$ such that  $\gamma$ is a $(c'_1,c_2)$ Type-II oracle, with $c'_1(\delta)=Rc_1(\delta)$.

Furthermore, if $\norm{\tilde{f}-f}_\infty \le c_1(\delta)$ is replaced by 
\begin{align}
\label{eq:oracle2alt}
\sup_{x\in \mathcal{K}}\norm{\nabla \tilde{f}- \nabla f}_* \le c_1(\delta)
\end{align}
in \cref{def:oracle2}, then the resulting oracle is also a $(c_1,c_2)$ type-I oracle.
\end{theorem}

\begin{proof}
Given $\norm{ \EE{G}  - \nabla f(x)  }_* \le c_1(\delta) $ in \cref{def:oracle1}, we can always construct a function $\tilde{f}:\cK \to \mathbb{R}$,
\[
\tilde{f}(y) =\EE{ f(y)+ \left( G-\nabla f(x) \right)^\top y} \,,
\]
where the expection is over the randomness of $G$, satisfying
\begin{align*}
\norm{\tilde{f}(y)-f(y)}_{\infty}
=
 \norm{ \EE{\left( G-\nabla f(x) \right)^\top y}}_{\infty}
 \le \norm{\EE{G}-\nabla f(x)}_* \norm{y}
 \le  Rc_1(\delta)\,,
\end{align*}
by choosing $R = \sup_{y \in \cK}\norm{y}$.

Also notice that
\[
 \nabla \tilde{f}(x) = \EE{\nabla f(x)+ \left( G-\nabla f(x)\right)}
 =\EE{G}\,.
\]
Therefore, $\gamma$ is also a $(c'_1,c_2)$ Type-II oracle.

Next, given \eqref{eq:oracle2alt} and $\EE{G}=\nabla \tilde{f}(x)$ in \cref{def:oracle2}, we can immediately get the bias condition of \cref{def:oracle1}.
\end{proof}
